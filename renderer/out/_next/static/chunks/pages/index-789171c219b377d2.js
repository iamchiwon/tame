(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1885:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(4189)}])},4189:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>er});var r=a(8488),s=a(1204),i=a(9102),l=a(5747),n=a(4942),d=a(7827),o=a(7576),c=a(4713),x=a(9281),m=a(4001);function u(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,m.QP)((0,x.$)(t))}let h=(0,c.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:l=!1,...n}=e,d=l?o.DX:"button";return(0,r.jsx)(d,{className:u(h({variant:s,size:i,className:a})),ref:t,...n})});g.displayName="Button";var f=a(2089);let v=(0,f.v)((e,t)=>({tabs:[],activeTabId:null,isLoading:!1,addTab:async t=>{try{e({isLoading:!0});{let a={...t,id:Date.now(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(e=>({tabs:[...e.tabs,a],activeTabId:a.id,isLoading:!1}))}}catch(t){console.error("Failed to add tab:",t),e({isLoading:!1})}},removeTab:async t=>{try{e({isLoading:!0}),e(e=>{let a=e.tabs.filter(e=>e.id!==t),r=e.activeTabId===t?a.length>0?a[0].id:null:e.activeTabId;return{tabs:a,activeTabId:r,isLoading:!1}})}catch(t){console.error("Failed to remove tab:",t),e({isLoading:!1})}},updateTab:async(t,a)=>{try{e({isLoading:!0}),e(e=>({tabs:e.tabs.map(e=>e.id===t?{...e,...a}:e),isLoading:!1}))}catch(t){console.error("Failed to update tab:",t),e({isLoading:!1})}},setActiveTab:t=>{e({activeTabId:t})},reorderTabs:async t=>{try{e({isLoading:!0}),e(e=>({tabs:e.tabs.map(e=>{let a=t.get(e.id);return void 0!==a?{...e,orderIndex:a}:e}).sort((e,t)=>e.orderIndex-t.orderIndex),isLoading:!1}))}catch(t){console.error("Failed to reorder tabs:",t),e({isLoading:!1})}},loadTabs:async()=>{try{e({isLoading:!0}),e({tabs:[],activeTabId:null,isLoading:!1})}catch(t){console.error("Failed to load tabs:",t),e({isLoading:!1})}}})),p=(0,f.v)((e,t)=>({notifications:[],unreadCount:0,viewMode:"all",filters:{},addNotification:t=>{e(e=>{let a=[t,...e.notifications],r=a.filter(e=>!e.isRead).length;return{notifications:a,unreadCount:r}})},markAsRead:async t=>{try{e(e=>{let a=e.notifications.map(e=>e.id===t?{...e,isRead:!0}:e);return{notifications:a,unreadCount:a.filter(e=>!e.isRead).length}})}catch(e){console.error("Failed to mark notification as read:",e)}},markGroupAsRead:async t=>{try{e(e=>{let a=e.notifications.map(e=>e.tabId===t?{...e,isRead:!0}:e);return{notifications:a,unreadCount:a.filter(e=>!e.isRead).length}})}catch(e){console.error("Failed to mark group as read:",e)}},setViewMode:t=>{e({viewMode:t})},setFilters:t=>{e({filters:t})},loadNotifications:async()=>{try{e({notifications:[],unreadCount:0})}catch(e){console.error("Failed to load notifications:",e)}},clearNotifications:()=>{e({notifications:[],unreadCount:0})},deleteNotifications:async t=>{try{e(e=>{let a=e.notifications.filter(e=>!t.includes(e.id));return{notifications:a,unreadCount:a.filter(e=>!e.isRead).length}})}catch(e){console.error("Failed to delete notifications:",e)}},markAllAsRead:async()=>{try{e(e=>({notifications:e.notifications.map(e=>({...e,isRead:!0})),unreadCount:0}))}catch(e){console.error("Failed to mark all as read:",e)}},deleteAllNotifications:async()=>{try{e({notifications:[],unreadCount:0})}catch(e){console.error("Failed to delete all notifications:",e)}}})),y=[{id:"gmail",name:"Gmail",url:"https://mail.google.com",icon:"\uD83D\uDCE7",description:"Google Mail - 이메일 관리",category:"communication"},{id:"linkedin",name:"LinkedIn",url:"https://www.linkedin.com",icon:"\uD83D\uDCBC",description:"LinkedIn - 전문 네트워킹",category:"professional"},{id:"slack",name:"Slack",url:"https://slack.com",icon:"\uD83D\uDCAC",description:"Slack - 팀 커뮤니케이션",category:"communication"}];var b=a(6325),j=a(9132),N=a(2837),w=a(6887);let k=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:u("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});k.displayName="Input";var C=a(4624),L=a(4881),A=a(3504);let R=C.bL;C.YJ;let E=C.WT,I=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(C.l9,{ref:t,className:u("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[s,(0,r.jsx)(C.In,{asChild:!0,children:(0,r.jsx)(L.A,{className:"h-4 w-4 opacity-50"})})]})});I.displayName=C.l9.displayName;let z=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(C.PP,{ref:t,className:u("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(A.A,{className:"h-4 w-4"})})});z.displayName=C.PP.displayName;let F=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(C.wn,{ref:t,className:u("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(L.A,{className:"h-4 w-4"})})});F.displayName=C.wn.displayName;let T=s.forwardRef((e,t)=>{let{className:a,children:s,position:i="popper",...l}=e;return(0,r.jsx)(C.ZL,{children:(0,r.jsxs)(C.UC,{ref:t,className:u("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...l,children:[(0,r.jsx)(z,{}),(0,r.jsx)(C.LM,{className:u("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(F,{})]})})});T.displayName=C.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(C.JU,{ref:t,className:u("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=C.JU.displayName;let S=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(C.q7,{ref:t,className:u("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(C.VF,{children:(0,r.jsx)(b.A,{className:"h-4 w-4"})})}),(0,r.jsx)(C.p4,{children:s})]})});S.displayName=C.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(C.wv,{ref:t,className:u("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=C.wv.displayName;var D=a(9729);let _=(0,c.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function O(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:u(_({variant:a}),t),...s})}var V=a(6603),M=a(5719);let P=e=>{let{notification:t,onNavigate:a}=e,{markAsRead:s}=p(),i=async()=>{try{await s(t.id)}catch(e){console.error("Failed to mark notification as read:",e)}};return(0,r.jsx)("div",{className:u("p-4 border-b border-gray-200 dark:border-gray-700 transition-colors",!t.isRead&&"bg-blue-50 dark:bg-blue-900/10"),children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:t.icon?(0,r.jsx)("span",{className:"text-lg",children:t.icon}):(0,r.jsx)("span",{className:"text-lg",children:"\uD83D\uDD14"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,r.jsx)("h4",{className:"font-medium text-sm text-gray-900 dark:text-white line-clamp-2",children:t.title}),!t.isRead&&(0,r.jsx)(O,{variant:"secondary",className:"text-xs px-2 py-0.5",children:"새"})]}),t.body&&(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2 mb-2",children:t.body}),t.tag&&(0,r.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,r.jsx)(O,{variant:"outline",className:"text-xs",children:t.tag})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[(0,r.jsx)(V.A,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:(e=>{let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/6e4);return a<1?"방금 전":a<60?"".concat(a,"분 전"):a<1440?"".concat(Math.floor(a/60),"시간 전"):t.toLocaleDateString()})(t.timestamp||t.createdAt)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[!t.isRead&&(0,r.jsxs)(g,{variant:"ghost",size:"sm",onClick:i,className:"h-7 px-2 text-xs text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[(0,r.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"읽음"]}),a&&(0,r.jsxs)(g,{variant:"ghost",size:"sm",onClick:()=>{a&&a(t)},className:"h-7 px-2 text-xs text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[(0,r.jsx)(M.A,{className:"h-3 w-3 mr-1"}),"보기"]})]})]})]})]})})},U=e=>{let{tabId:t,notifications:a,onNavigate:i}=e,[l,n]=(0,s.useState)(!0),{markGroupAsRead:d,deleteNotifications:o}=p(),{tabs:c}=v(),x=c.find(e=>e.id===t),m=x?y.find(e=>{var t;return x.url.includes(null==(t=e.url.split("//")[1])?void 0:t.split("/")[0])}):null,u=a.filter(e=>!e.isRead).length,h=a.length,f=async()=>{try{await d(t)}catch(e){console.error("Failed to mark group as read:",e)}},N=async()=>{try{let e=a.map(e=>e.id);await o(e)}catch(e){console.error("Failed to delete notifications:",e)}},w=e=>{i&&i(e)};return 0===a.length?null:(0,r.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>n(!l),className:"h-6 w-6 p-0",children:l?(0,r.jsx)(L.A,{className:"h-4 w-4"}):(0,r.jsx)(D.A,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm",children:(null==m?void 0:m.icon)||"\uD83C\uDF10"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-sm text-gray-900 dark:text-white",children:(null==m?void 0:m.name)||(null==x?void 0:x.title)||"알 수 없는 서비스"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(null==m?void 0:m.description)||(null==x?void 0:x.url)})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(O,{variant:"secondary",className:"text-xs",children:[u,"/",h]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[u>0&&(0,r.jsxs)(g,{variant:"ghost",size:"sm",onClick:f,className:"h-7 px-2 text-xs text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[(0,r.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"모두 읽음"]}),(0,r.jsxs)(g,{variant:"ghost",size:"sm",onClick:N,className:"h-7 px-2 text-xs text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:[(0,r.jsx)(j.A,{className:"h-3 w-3 mr-1"}),"모두 삭제"]})]})]})]}),l&&(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto",children:a.map(e=>(0,r.jsx)(P,{notification:e,onNavigate:w},e.id))})]})},G=e=>{let{isOpen:t,onClose:a,onNavigate:i}=e,[n,d]=(0,s.useState)(""),[o,c]=(0,s.useState)("all"),[x,m]=(0,s.useState)("all"),{notifications:u,markAllAsRead:h,deleteAllNotifications:f,loadNotifications:y}=p(),{tabs:C}=v();(0,s.useEffect)(()=>{t&&y()},[t,y]);let L=u.filter(e=>{if(n){let t=n.toLowerCase();if(!(e.title.toLowerCase().includes(t)||e.body&&e.body.toLowerCase().includes(t)||e.tag&&e.tag.toLowerCase().includes(t)))return!1}if("unread"===o&&e.isRead||"read"===o&&!e.isRead)return!1;if("all"!==x){let t=C.find(t=>t.id===e.tabId);if(!t||"gmail"===x&&!t.url.includes("mail.google.com")||"linkedin"===x&&!t.url.includes("linkedin.com")||"slack"===x&&!t.url.includes("slack.com"))return!1}return!0}).reduce((e,t)=>{let a=t.tabId;return e[a]||(e[a]=[]),e[a].push(t),e},{}),A=async()=>{try{await h()}catch(e){console.error("Failed to mark all as read:",e)}},z=async()=>{try{await f()}catch(e){console.error("Failed to delete all notifications:",e)}},F=e=>{i&&(i(e),a())},D=u.filter(e=>!e.isRead).length,_=u.length;return t?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl h-[80vh] bg-white dark:bg-gray-900 rounded-lg shadow-xl flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"알림 센터"}),D>0&&(0,r.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:[D,"개 새 알림"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(g,{variant:"ghost",size:"sm",onClick:A,disabled:0===D,className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"모두 읽음"]}),(0,r.jsxs)(g,{variant:"ghost",size:"sm",onClick:z,disabled:0===_,className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:[(0,r.jsx)(j.A,{className:"h-4 w-4 mr-1"}),"모두 삭제"]}),(0,r.jsx)(g,{variant:"ghost",size:"sm",onClick:a,className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:(0,r.jsx)(N.A,{className:"h-4 w-4"})})]})]}),(0,r.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 space-y-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)(w.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)(k,{placeholder:"알림 검색...",value:n,onChange:e=>d(e.target.value),className:"pl-10"})]}),(0,r.jsxs)(R,{value:o,onValueChange:e=>c(e),children:[(0,r.jsx)(I,{className:"w-32",children:(0,r.jsx)(E,{})}),(0,r.jsxs)(T,{children:[(0,r.jsx)(S,{value:"all",children:"모든 알림"}),(0,r.jsx)(S,{value:"unread",children:"읽지 않음"}),(0,r.jsx)(S,{value:"read",children:"읽음"})]})]}),(0,r.jsxs)(R,{value:x,onValueChange:m,children:[(0,r.jsx)(I,{className:"w-32",children:(0,r.jsx)(E,{})}),(0,r.jsxs)(T,{children:[(0,r.jsx)(S,{value:"all",children:"모든 서비스"}),(0,r.jsx)(S,{value:"gmail",children:"Gmail"}),(0,r.jsx)(S,{value:"linkedin",children:"LinkedIn"}),(0,r.jsx)(S,{value:"slack",children:"Slack"})]})]})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:0===Object.keys(L).length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400",children:[(0,r.jsx)(l.A,{className:"h-16 w-16 mb-4 text-gray-300"}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"알림이 없습니다"}),(0,r.jsx)("p",{className:"text-sm text-center",children:n||"all"!==o||"all"!==x?"검색 조건에 맞는 알림이 없습니다.":"아직 수집된 알림이 없습니다."})]}):(0,r.jsx)("div",{className:"space-y-4",children:Object.entries(L).map(e=>{let[t,a]=e;return(0,r.jsx)(U,{tabId:parseInt(t),notifications:a,onNavigate:F},t)})})})]})}):null},J=e=>{let{onAddTab:t}=e,{tabs:a,activeTabId:o,setActiveTab:c}=v(),{unreadCount:x}=p(),[m,h]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"w-72 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Tame"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsxs)(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white relative",onClick:()=>h(!0),children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),x>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:x>99?"99+":x})]}),(0,r.jsx)(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:(0,r.jsx)(l.A,{className:"h-4 w-4"})}),(0,r.jsx)(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)(g,{onClick:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"앱 추가"]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===a.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:(0,r.jsx)(d.A,{className:"h-8 w-8 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"앱을 추가해보세요"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:'위의 "앱 추가" 버튼을 클릭하여 첫 번째 앱을 추가하세요'})]}):(0,r.jsx)("div",{className:"p-3",children:a.map(e=>{let t,a=(t=e.url,y.find(e=>{var a;return t.includes(null==(a=e.url.split("//")[1])?void 0:a.split("/")[0])}));return(0,r.jsxs)("div",{onClick:()=>{c(e.id)},className:u("flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all duration-200 mb-2",o===e.id?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 shadow-sm":"hover:bg-gray-50 dark:hover:bg-gray-800/50 border border-transparent"),children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center text-lg",children:(null==a?void 0:a.icon)||"\uD83C\uDF10"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"font-semibold text-sm text-gray-900 dark:text-white truncate",children:(null==a?void 0:a.name)||e.title}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(null==a?void 0:a.description)||e.url})]})]},e.id)})})}),(0,r.jsx)(G,{isOpen:m,onClose:()=>h(!1),onNavigate:e=>{c(e.tabId)}})]})};var B=a(271),W=a(4123);let X=e=>{let{tab:t,isActive:a,onTitleChange:i,onUrlChange:l}=e,n=(0,s.useRef)(null),[d,o]=(0,s.useState)(!1),[c,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{let e=n.current;if(!e)return;let a=()=>{o(!0)},r=()=>{o(!1)},s=e=>{let a=e.title;a&&a!==t.title&&i(t.id,a)},d=e=>{let a=e.url;a&&a!==t.url&&l(t.id,a)},c=e=>{let a=e.url;a&&a!==t.url&&l(t.id,a)},m=()=>{x(e.canGoBack()),u(e.canGoForward())},h=()=>{try{window.electron.registerWebView(t.id,t.url,t.title)}catch(e){console.error("Failed to register webview:",e)}};return e.addEventListener("load-start",a),e.addEventListener("load-stop",r),e.addEventListener("page-title-updated",s),e.addEventListener("did-navigate",d),e.addEventListener("did-navigate-in-page",c),e.addEventListener("did-navigate",m),e.addEventListener("did-navigate-in-page",m),e.addEventListener("did-finish-load",h),()=>{e.removeEventListener("load-start",a),e.removeEventListener("load-stop",r),e.removeEventListener("page-title-updated",s),e.removeEventListener("did-navigate",d),e.removeEventListener("did-navigate-in-page",c),e.removeEventListener("did-navigate",m),e.removeEventListener("did-navigate-in-page",m),e.removeEventListener("did-finish-load",h);try{window.electron.unregisterWebView(t.id)}catch(e){console.error("Failed to unregister webview:",e)}}},[t.id,t.title,t.url,i,l]),a)?(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 p-3 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>{var e;null==(e=n.current)||e.goBack()},disabled:!c,className:"h-9 w-9 p-0 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white disabled:opacity-50",children:"←"}),(0,r.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>{var e;null==(e=n.current)||e.goForward()},disabled:!m,className:"h-9 w-9 p-0 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white disabled:opacity-50",children:"→"}),(0,r.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>{var e;null==(e=n.current)||e.reload()},disabled:d,className:"h-9 w-9 p-0 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white disabled:opacity-50",children:d?(0,r.jsx)(B.A,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(W.A,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"flex-1 mx-4",children:[(0,r.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300 truncate font-medium",children:t.title}),(0,r.jsx)("div",{className:"text-xs text-gray-400 dark:text-gray-500 truncate",children:t.url})]}),(0,r.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>{n.current&&window.electron.openExternal(t.url)},className:"h-9 w-9 p-0 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:(0,r.jsx)(M.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)("webview",{ref:n,src:t.url,className:"w-full h-full",webpreferences:"contextIsolation=false, nodeIntegration=false",allowpopups:!0}),d&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-gray-900/80",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,r.jsx)(B.A,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"로딩 중..."})]})})]})]}):null},Y=()=>{let{tabs:e,activeTabId:t,updateTab:a}=v(),s=(e,t)=>{a(e,{title:t})},i=(e,t)=>{a(e,{url:t})};return 0===e.length?(0,r.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"No tabs open"}),(0,r.jsx)("p",{className:"text-sm",children:"Add a new tab to get started"})]})}):(0,r.jsx)("div",{className:"h-full",children:e.map(e=>(0,r.jsx)(X,{tab:e,isActive:e.id===t,onTitleChange:s,onUrlChange:i},e.id))})};var q=a(1049);let Z=q.bL;q.l9;let H=q.ZL;q.bm;let Q=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(q.hJ,{ref:t,className:u("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});Q.displayName=q.hJ.displayName;let $=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(H,{children:[(0,r.jsx)(Q,{}),(0,r.jsxs)(q.UC,{ref:t,className:u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[s,(0,r.jsxs)(q.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(N.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});$.displayName=q.UC.displayName;let K=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:u("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};K.displayName="DialogHeader";let ee=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(q.hE,{ref:t,className:u("text-lg font-semibold leading-none tracking-tight",a),...s})});ee.displayName=q.hE.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(q.VY,{ref:t,className:u("text-sm text-muted-foreground",a),...s})}).displayName=q.VY.displayName;let et=e=>{let{isOpen:t,onClose:a}=e,[i,l]=(0,s.useState)(""),{addTab:n,tabs:d}=v(),o=y.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())),c=async e=>{try{await n({title:e.name,url:e.url,orderIndex:d.length}),a(),l("")}catch(e){console.error("Failed to add site:",e)}},x=o.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{}),m={communication:"커뮤니케이션",professional:"전문 네트워킹",productivity:"생산성"};return(0,r.jsx)(Z,{open:t,onOpenChange:()=>{l(""),a()},children:(0,r.jsxs)($,{className:"max-w-2xl max-h-[80vh]",children:[(0,r.jsx)(K,{children:(0,r.jsx)(ee,{className:"text-xl font-semibold",children:"앱 추가"})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(w.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,r.jsx)(k,{placeholder:"앱 검색...",value:i,onChange:e=>l(e.target.value),className:"pl-12 h-12 text-base border-gray-300 dark:border-gray-600"})]}),(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-6",children:Object.entries(x).map(e=>{let[t,a]=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:m[t]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(e=>(0,r.jsxs)("div",{onClick:()=>c(e),className:"flex items-center gap-4 p-4 rounded-xl border border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-200 hover:shadow-sm",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center text-2xl",children:e.icon}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"font-semibold text-base text-gray-900 dark:text-white",children:e.name}),(0,r.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.description})]})]},e.id))})]},t)})}),0===o.length&&(0,r.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-12",children:[(0,r.jsx)(w.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,r.jsx)("p",{className:"text-lg",children:"검색 결과가 없습니다."}),(0,r.jsx)("p",{className:"text-sm mt-2",children:"다른 키워드로 검색해보세요."})]})]})]})})},ea=e=>{let{children:t}=e,[a,i]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"h-screen flex bg-background",children:[(0,r.jsx)(J,{onAddTab:()=>{i(!0)}}),(0,r.jsx)("main",{className:"flex-1 overflow-hidden",children:t||(0,r.jsx)(Y,{})}),(0,r.jsx)(et,{isOpen:a,onClose:()=>i(!1)})]})},er=()=>(0,r.jsx)(ea,{})}},e=>{e.O(0,[951,636,593,792],()=>e(e.s=1885)),_N_E=e.O()}]);